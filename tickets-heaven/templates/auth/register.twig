{% extends 'layouts/base.twig' %}

{% block pageTitle %}
    Register
{% endblock %}

{% block styles %}
    <link rel="stylesheet" href="/css/base.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta3/dist/css/bootstrap-select.min.css">
{% endblock %}

{% block content %}
    <div class="mt-4">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="{{ url_for('home') }}">Home</a></li>
                <li class="breadcrumb-item active" aria-current="page">Register</li>
            </ol>
        </nav>
    </div>
    <div class="card bg-light border-0 margin-top-minus-10">
        <article class="card-body medium-card-body text-center mx-auto">
            <h4 class="card-title text-center margin-top-minus-10">Register</h4>
            <p class="text-center">Get started with your free account</p>

            <div class="text-center">

                <form id="github-login-form" class="d-inline-block" action="{{ url_for('github.auth') }}" method="post">
                    <button type="submit" data-type="GitHub" class="btn btn-block btn-github mt-1 mb-1"> <i class="fab fa-github"></i>  Log in via GitHub</button>

                    {{ csrf.ajax | raw }}

                </form>

                <form id="facebook-login-form" class="d-inline-block" action="{{ url_for('facebook.auth') }}" method="post">
                    <button type="submit" data-type="Facebook" class="btn btn-block btn-facebook mt-1 mb-1"> <i class="fab fa-facebook-f"></i>  Log in via Facebook</button>

                    {{ csrf.ajax | raw }}

                </form>
            </div>

            <p class="divider-text">
                <span class="bg-light">OR</span>
            </p>

            <form id="register-form" action="{{ url_for('register') }}" method="post">

                <div class="form-group input-group mb-1 has-validation">
                    <div class="input-group-prepend">
                        <span class="input-group-text" title="Username"><i class="fa fa-user"></i></span>
                    </div>

                    <input required type="text" id="username" name="username" class="form-control" value="" placeholder="Username">

                    <div class="input-group-append">
                        <button type="button" title="Clear value" class="btn btn-info clear-button"><i class="fa fa-copy"></i></button>
                    </div>
                </div>

                <div class="form-group input-group mb-1 has-validation">
                    <div class="input-group-prepend">
                        <span class="input-group-text" title="Email"><i class="fa fa-envelope"></i></span>
                    </div>

                    <input required type="email" id="email" name="email" class="form-control" value="" placeholder="Email">

                    <div class="input-group-append">
                        <button type="button" title="Clear value" class="btn btn-info clear-button"><i class="fa fa-copy"></i></button>
                    </div>
                </div>

                <div class="form-group input-group mb-1 has-validation">
                    <div class="input-group-prepend">
                        <span class="input-group-text" title="First name"><i class="fa fa-user"></i></span>
                    </div>

                    <input required type="text" id="first-name" name="first_name" class="form-control" value="" placeholder="First name">

                    <div class="input-group-append">
                        <button type="button" title="Clear value" class="btn btn-info clear-button"><i class="fa fa-copy"></i></button>
                    </div>
                </div>

                <div class="form-group input-group mb-1 has-validation">
                    <div class="input-group-prepend">
                        <span class="input-group-text" title="Last name"><i class="fa fa-user"></i></span>
                    </div>

                    <input required type="text" id="last-name" name="last_name" class="form-control" value="" placeholder="Last name">

                    <div class="input-group-append">
                        <button type="button" title="Clear value" class="btn btn-info clear-button"><i class="fa fa-copy"></i></button>
                    </div>
                </div>

                <div class="form-group input-group mb-1 has-validation">
                    <div class="input-group-prepend">
                        <span class="input-group-text" title="Phone number"><i class="fa fa-phone"></i></span>
                    </div>

                    <select data-live-search="true" id="phone-code-id" name="phone_code_id" class="custom-select selectpicker" data-width="82px">
                        <option selected value="+XXX">+XXX</option>

                        {% for phone_code in phone_codes %}

                            <option value="{{ phone_code.id }}">{{ phone_code.code }}</option>

                        {% endfor %}

                    </select>

                    <input type="number" id="phone-number" name="phone_number" min="0" class="form-control" value="" placeholder="Phone number">

                    <div class="input-group-append">
                        <button type="button" title="Clear value" class="btn btn-info clear-button"><i class="fa fa-copy"></i></button>
                    </div>
                </div>

                <div class="form-group input-group mb-1 has-validation">
                    <div class="input-group-prepend">
                        <span class="input-group-text" title="Credit card number"><i class="fas fa-credit-card"></i></span>
                    </div>

                    <input type="number" id="credit-card-number" name="credit_card_number" min="0" class="form-control" value="" placeholder="Credit card number">

                    <div class="input-group-append">
                        <button type="button" title="clear value" class="btn btn-info clear-button"><i class="fa fa-copy"></i></button>
                    </div>
                </div>

                <div class="form-group input-group mb-1 has-validation">
                    <div class="input-group-prepend">
                        <span class="input-group-text unselectable" title="Default currency"><i class="fas fa-dollar-sign"></i></span>
                    </div>

                    <select data-live-search="true" id="default-currency-id" name="default_currency_id" class="custom-select selectpicker" data-width="calc(100% - 38px)">
                        <option selected disabled value="Default currency">Default currency</option>

                        {% for currency in currencies %}

                            <option value="{{ currency.id }}">{{ currency.code }}</option>

                        {% endfor %}

                    </select>
                </div>

                <div class="form-group input-group mb-1 has-validation">
                    <div class="input-group-prepend">
                        <span class="input-group-text" title="Address"><i class="fa fa-address-card"></i></span>
                    </div>

                    <textarea rows="3" type="text" id="address" name="address" class="form-control" value="" placeholder="Address"></textarea>

                    <div class="input-group-append">
                        <button type="button" title="Clear value" class="btn btn-info clear-button"><i class="fa fa-copy"></i></button>
                    </div>
                </div>

                <div class="form-group input-group mb-1 has-validation">
                    <div class="input-group-prepend">
                        <span class="input-group-text" title="Description"><i class="fa fa-font"></i></span>
                    </div>

                    <textarea rows="3" type="text" id="description" name="description" class="form-control" value="" placeholder="Description"></textarea>

                    <div class="input-group-append">
                        <button type="button" title="Clear value" class="btn btn-info clear-button"><i class="fa fa-copy"></i></button>
                    </div>
                </div>

                <div class="form-group input-group mb-1 has-validation">
                    <div class="input-group-prepend">
                        <span class="input-group-text" title="Password"><i class="fa fa-lock"></i></span>
                    </div>

                    <input required type="password" id="password" name="password" class="form-control" placeholder="Password">

                    <div class="input-group-append">
                        <button type="button" title="Clear value" class="btn btn-info clear-button"><i class="fa fa-copy"></i></button>
                    </div>
                </div>

                <div class="form-group input-group has-validation">
                    <div class="input-group-prepend">
                        <span class="input-group-text" title="Confirm password"><i class="fa fa-lock"></i></span>
                    </div>

                    <input required type="password" id="confirm-password" name="confirm_password" class="form-control" placeholder="Confirm password">

                    <div class="input-group-append">
                        <button type="button" title="Clear value" class="btn btn-info clear-button"><i class="fa fa-copy"></i></button>
                    </div>
                </div>
                <br>

                <div id="register-button-container">
                    <div class="form-group text-start">
                        <button type="submit" id="register-button" class="btn btn-primary btn-block">Create Account</button>
                    </div>
                    <br>
                    <p class="text-center ms-auto my-auto">Have an account? <a href="{{ url_for('login') }}">Log In</a></p>
                </div>
                
                {{ csrf.ajax | raw }}

            </form>
        </article>
    </div>
{% endblock %}

{% block scripts %}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta3/dist/js/bootstrap-select.min.js"></script>
    <script src="/js/auth/login-social.js"></script>
    <script src="/js/auth/register.js"></script>
{% endblock %}
